<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="icon.jpg">
    <title>Conversor</title>
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>
    <h1>Convertidor Bs â‡† CLP</h1>
    <div>
        <label for="tasa">
            <span>Tasa:</span>
            <input type="number" id="tasa" name="tasa" placeholder="Tasa de pesos a bs" type="text">
        </label>

        <label for="clp">
            <span>CLP:</span>
            <input type="number" id="clp" placeholder="CLP" type="text">
        </label>
        <label for="bs">
            <span>BS:</span>
            <input type="number" id="bs" placeholder="BS" type="text">
        </label>

        <button id="CLP-BS">Convertir CLP a BS</button>
        <button id="BS-CLP">Convertir BS a CLP</button>
    </div>
</body>


<script>
    const CLP_BS = document.querySelector("#CLP-BS");
    const BS_CLP = document.querySelector("#BS-CLP");

    CLP_BS.addEventListener("click", () => {
        ConvertirCLPaBS();
    });

    BS_CLP.addEventListener("click", () => {
        ConvertirBSaCLP();
    });

    document.querySelector("#clp").addEventListener("keyup", function (event) {
        if (event.keyCode === 13) {
            ConvertirCLPaBS();
        }
    });

    document.querySelector("#bs").addEventListener("keyup", function (event) {
        if (event.keyCode === 13) {
            ConvertirBSaCLP();
        }
    });

    function ConvertirBSaCLP() {
        const tasaHtml = document.querySelector("#tasa");
        const clpHtml = document.querySelector("#clp");
        const bsHtml = document.querySelector("#bs");
        const tasa = tasaHtml.value.toString().trim() != "" ? parseFloat(tasaHtml.value) : localStorage.getItem("tasa");
        tasaHtml.value = tasa;
        const bs = parseFloat(bsHtml.value);
        const res = bs / tasa;
        clpHtml.value = res.toFixed(2);
        localStorage.setItem("tasa", tasa);
    }

    function ConvertirCLPaBS() {
        const tasaHtml = document.querySelector("#tasa");
        const clpHtml = document.querySelector("#clp");
        const bsHtml = document.querySelector("#bs");
        const tasa = tasaHtml.value.toString().trim() != "" ? parseFloat(tasaHtml.value) : localStorage.getItem("tasa");
        tasaHtml.value = tasa;
        const clp = parseFloat(clpHtml.value);
        const res = clp * tasa;
        bsHtml.value = res.toFixed(2);
        localStorage.setItem("tasa", tasa);
    }

</script>

</html>